<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Math Practice</title>
</head>
<body style="background-color: lightblue;">
<div style="display: flex; justify-content: center; align-items: center; height: 100vh;">
  <div style="background-color: white; padding: 2rem; border-radius: 1rem;">
    <div id="problem-text" style="font-size: 1.5rem; margin-bottom: 1rem;"></div>
    <div>
      <label>
        <input type="radio" name="answer" value="a">
        <span id="choice-a"></span>
      </label>
      <label>
        <input type="radio" name="answer" value="b">
        <span id="choice-b"></span>
      </label>
      <label>
        <input type="radio" name="answer" value="c">
        <span id="choice-c"></span>
      </label>
      <label>
        <input type="radio" name="answer" value="d">
        <span id="choice-d"></span>
      </label>
    </div>
    <button id="submit-button" onclick="submitAnswer()">Submit</button>
    <button id="new-problem-button" onclick="fetchNewProblem()">New Problem</button>
  </div>
</div>
<script th:inline="javascript">
function fetchNewProblem() {
    fetch('/api/math/random-problem')
        .then(response => response.json())
        .then(problem => {
            document.getElementById('problem-text').textContent = problem.problemText;

            // Display answer choices (you can customize this part as needed)
            document.getElementById('choice-a').textContent = 'A) ' + problem.correctAnswer;
            document.getElementById('choice-b').textContent = 'B) ' + (parseInt(problem.correctAnswer) + 1);
            document.getElementById('choice-c').textContent = 'C) ' + (parseInt(problem.correctAnswer) - 1);
            document.getElementById('choice-d').textContent = 'D) ' + (parseInt(problem.correctAnswer) + 2);
        })
        .catch(error => console.error("Error fetching problem:", error));
}

// Call fetchNewProblem() when the page loads to display the first problem
fetchNewProblem();

function submitAnswer() {
    const answerInputs = document.getElementsByName('answer');
    let selectedAnswer = null;

    for (const input of answerInputs) {
        if (input.checked) {
            selectedAnswer = input.value;
            break;
        }
    }

    if (selectedAnswer === null) {
        alert('Please select an answer');
        return;


</script>
</body>
</html>
